{"version":3,"file":"membrane.min.js","sources":["membrane.js"],"names":["define","__dependency1__","__exports__","MJS","MSystem","params","_","assign","this","membrane","world","prototype","simulate","stepLimit","outCome","log","i","toString","step","dissolved","worldToString","setToString","__dependency2__","shuffle","o","j","x","length","Math","floor","random","Rule","idCounter","Membrane","rules","membranes","label","charge","id","externalWorld","self","anyRulesApplied","hasDissolved","result","splice","applicableRules","forEach","rule","times","numberApplications","push","oldWorld","cloneDeep","applyRule","isObject","count","symbol","type","Type","DISSOLVE","children","slice","msg","console","$","prepend","set","chars","join","EVOLVE","reactants","products","applied","num","tempWorld","sendOutSet","w","SEND_OUT","keys"],"mappings":"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"}