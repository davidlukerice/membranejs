{"version":3,"file":"membrane.min.js","sources":["membrane.js"],"names":["define","__exports__","shuffle","o","j","x","i","length","Math","floor","random","setToString","set","chars","_","forEach","count","symbol","times","push","join","MJS","log","msg","console","$","prepend","MSystem","params","assign","this","membrane","world","prototype","simulate","stepLimit","outCome","toString","step","dissolved","worldToString","Rule","type","Type","EVOLVE","reactants","products","charge","label","idCounter","Membrane","rules","membranes","id","externalWorld","self","anyRulesApplied","hasDissolved","result","splice","applicableRules","rule","numberApplications","oldWorld","cloneDeep","applyRule","isObject","DISSOLVE","children","slice","applied","num","tempWorld","sendOutSet","w","SEND_OUT","keys"],"mappings":"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"}